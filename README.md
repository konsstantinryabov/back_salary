# Проект BackSalary

`Python` `Django` `Django Rest Framework` `Docker` `PostgreSQL` `Postman`


### **_BackSalary_**


Сервис для просмотра настоящей зарплаты и даты следующего повышения работника компании. На этом сервисе администратор создаёт пользователей и заполняет данны о текущей зарплате и дате следубщего повышения сотрудника. Пользователи - работники могут иметь доступ только к своим данным о зарплате и дате повышения. Осуществлена аутентификация по токену. Проект выполнен с помощью Django


### _Развернуть проект на удаленном сервере:_

**_Клонировать репозиторий_**
```
https://github.com/konsstantinryabov/back_salary.git
or
https://gitlab.com/konsstantinryabov/back_salary.git
```


**_- Запустить виртуальную среду окружения_**
**_- Перейти в папку, в которой находится manage.py: /_**
**_- В PostgreSQL создать БД для проекта, в файле settings.py раскомендировать строки настрйоки DATABASES_**
```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'salary',
        'USER': 'username',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '1234',
    }
}
```
**_- Создать суперпользователя:_**
```

```
**_- В командной строке выполнить:_**
```
$ cd salary
$ python manage.py runserver*
```     
**_- В командной строке выполнить:_**
```
http://127.0.0.1:8000/admin/
```
**_- Ввести данные суперпользователя_**
**_- В "Пользователи" добавить пользователей, в "Следующие повывшения" добавить данные о зарплатах и датах повышения каждому из созданных пользователей_**
**_- В Postman создать запросы:_**
```
http://127.0.0.1:8000/api/users/            - GET запрос на получение всех пользователей (доступно только админу)
http://127.0.0.1:8000/api/users/            - POST запрос на создание пользователя - работника (доступно только админу)
{
    "username": "******",
    "password": "******"
}
http://127.0.0.1:8000/api/salary/           - GET запрос на получение данных, все работники со своей зарплатой и датой следующего повышения
http://127.0.0.1:8000/api/salary/{id}       - GET запрос что и выше только по id
http://127.0.0.1:8000/api/salary/           - POST Запрос на создание данных работника со своими данными 
{
    "worker": ******,
    "salar": "******",
    "date": "****-**-**"
}
http://127.0.0.1:8000/api/worker/recent/    - GET запрос, авторизованный пользователь может получать свои данные о зарплате и дате повышения
http://127.0.0.1:8000/api/jwt/create/       - POST запрос на создание токена
{
    "username": "******",
    "password": "******"
}
http://127.0.0.1:8000/api/jwt/refresh/      - POST запрос на обновление токена
{
    "refresh": "токен"
}
```


### Автор
Константин Рябов